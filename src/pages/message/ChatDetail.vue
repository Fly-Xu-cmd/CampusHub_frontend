<template>
  <CommonLayout headerType="standard" title="ç¾¤èŠè¯¦æƒ…">
    <view class="content">
      <!-- ç¾¤èŠä¿¡æ¯åŒºåŸŸ -->
      <view class="group-info">
        <view class="group-avatar">
          <image src="https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=200&h=200&fit=crop&crop=face" mode="aspectFill"></image>
        </view>
        <view class="group-name">å‘¨äº”ç¾½æ¯›çƒæ ¸å¿ƒç¾¤</view>
        <view class="group-member-count">14åæˆå‘˜</view>
      </view>

      <!-- ç¾¤å…¬å‘Š -->
      <view class="group-notice">
        <view class="notice-header">
          <view class="notice-title">ç¾¤å…¬å‘Š</view>
          <view class="notice-more">æŸ¥çœ‹å…¨éƒ¨</view>
        </view>
        <view class="notice-content">
          æ¯å‘¨äº”æ™š7ç‚¹ï¼Œç¾½æ¯›çƒé¦†ä¸è§ä¸æ•£ï¼è¯·å¤§å®¶å‡†æ—¶å‚åŠ ï¼Œè‡ªå¸¦çƒæ‹å’Œæ°´æ¯ã€‚
        </view>
      </view>

      <!-- ç¾¤æˆå‘˜åˆ—è¡¨ -->
      <view class="group-members">
        <view class="members-header">
          <view class="members-title">ç¾¤æˆå‘˜</view>
          <view class="members-count">14äºº</view>
        </view>
        <view class="members-list">
          <!-- ç¾¤ä¸» -->
          <view class="member-item">
            <view class="member-avatar">
              <image src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=100&h=100&fit=crop&crop=face" mode="aspectFill"></image>
            </view>
            <view class="member-info">
              <view class="member-name">Kevin</view>
              <view class="member-role">ç¾¤ä¸»</view>
            </view>
            <view class="member-more">â‹¯</view>
          </view>

          <!-- ç¾¤æˆå‘˜ -->
          <view class="member-item">
            <view class="member-avatar">
              <image src="https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=100&h=100&fit=crop&crop=face" mode="aspectFill"></image>
            </view>
            <view class="member-info">
              <view class="member-name">Alice</view>
            </view>
            <view class="member-more">â‹¯</view>
          </view>

          <view class="member-item">
            <view class="member-avatar">
              <image src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=face" mode="aspectFill"></image>
            </view>
            <view class="member-info">
              <view class="member-name">Bob</view>
            </view>
            <view class="member-more">â‹¯</view>
          </view>

          <view class="member-item">
            <view class="member-avatar">
              <image src="https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?w=100&h=100&fit=crop&crop=face" mode="aspectFill"></image>
            </view>
            <view class="member-info">
              <view class="member-name">Charlie</view>
            </view>
            <view class="member-more">â‹¯</view>
          </view>
        </view>

        <!-- æ·»åŠ æˆå‘˜æŒ‰é’® -->
        <view class="add-member-btn" @click="addMember">
          <view class="add-icon">+</view>
          <view class="add-text">æ·»åŠ æˆå‘˜</view>
        </view>
      </view>

      <!-- ç¾¤ç®¡ç†åŠŸèƒ½ -->
      <view class="group-settings">
        <view class="setting-item" @click="editNotice">
          <view class="setting-icon">ğŸ“</view>
          <view class="setting-text">ç¼–è¾‘ç¾¤å…¬å‘Š</view>
          <view class="setting-arrow">â†’</view>
        </view>

        <view class="setting-item" @click="changeGroupName">
          <view class="setting-icon">âœï¸</view>
          <view class="setting-text">ä¿®æ”¹ç¾¤åç§°</view>
          <view class="setting-arrow">â†’</view>
        </view>

        <view class="setting-item" @click="changeGroupAvatar">
          <view class="setting-icon">ğŸ–¼ï¸</view>
          <view class="setting-text">ä¿®æ”¹ç¾¤å¤´åƒ</view>
          <view class="setting-arrow">â†’</view>
        </view>
      </view>

      <!-- é€€å‡ºç¾¤èŠæŒ‰é’® -->
      <view class="leave-group-btn" @click="leaveGroup">
        <view class="leave-text">é€€å‡ºç¾¤èŠ</view>
      </view>
    </view>
  </CommonLayout>
</template>

<script setup lang="ts">
import { ref } from 'vue';

// æ¨¡æ‹Ÿç¾¤æˆå‘˜æ•°æ®
const members = ref([
  {
    id: 1,
    name: 'Kevin',
    avatar: 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=100&h=100&fit=crop&crop=face',
    role: 'ç¾¤ä¸»'
  },
  {
    id: 2,
    name: 'Alice',
    avatar: 'https://images.unsplash.com/photo-1506929562872-bb421503ef21?w=100&h=100&fit=crop&crop=face'
  },
  {
    id: 3,
    name: 'Bob',
    avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=face'
  },
  {
    id: 4,
    name: 'Charlie',
    avatar: 'https://images.unsplash.com/photo-1539571696357-5a69c17a67c6?w=100&h=100&fit=crop&crop=face'
  }
]);

// æ·»åŠ æˆå‘˜
const addMember = () => {
  console.log('æ·»åŠ æˆå‘˜');
};

// ç¼–è¾‘ç¾¤å…¬å‘Š
const editNotice = () => {
  console.log('ç¼–è¾‘ç¾¤å…¬å‘Š');
};

// ä¿®æ”¹ç¾¤åç§°
const changeGroupName = () => {
  console.log('ä¿®æ”¹ç¾¤åç§°');
};

// ä¿®æ”¹ç¾¤å¤´åƒ
const changeGroupAvatar = () => {
  console.log('ä¿®æ”¹ç¾¤å¤´åƒ');
};

// é€€å‡ºç¾¤èŠ
const leaveGroup = () => {
  console.log('é€€å‡ºç¾¤èŠ');
};
</script>

<style scoped lang="scss">
@use "@/styles/variables.scss" as *;
@use "@/styles/mixins.scss" as *;

.content {
  padding: $spacing-md;
  background-color: $background-color;
  min-height: calc(100vh - var(--header-height));

  /* ç¾¤èŠä¿¡æ¯åŒºåŸŸ */
  .group-info {
    @include flex(column, center, center);
    margin-bottom: $spacing-xl;

    .group-avatar {
      margin-bottom: $spacing-md;

      image {
        width: 200rpx;
        height: 200rpx;
        border-radius: $border-radius-lg;
      }
    }

    .group-name {
      font-size: $font-size-lg;
      font-weight: $font-weight-semibold;
      color: $text-primary;
      margin-bottom: $spacing-xs;
    }

    .group-member-count {
      font-size: $font-size-sm;
      color: $text-tertiary;
    }
  }

  /* ç¾¤å…¬å‘Š */
  .group-notice {
    background-color: $surface-color;
    border-radius: $border-radius-lg;
    padding: $spacing-md;
    margin-bottom: $spacing-md;
    box-shadow: $shadow-sm;

    .notice-header {
      @include flex(row, space-between, center);
      margin-bottom: $spacing-sm;

      .notice-title {
        font-size: $font-size-base;
        font-weight: $font-weight-semibold;
        color: $text-primary;
      }

      .notice-more {
        font-size: $font-size-sm;
        color: $primary-color;
      }
    }

    .notice-content {
      font-size: $font-size-sm;
      color: $text-secondary;
      line-height: 1.4;
    }
  }

  /* ç¾¤æˆå‘˜åˆ—è¡¨ */
  .group-members {
    background-color: $surface-color;
    border-radius: $border-radius-lg;
    padding: $spacing-md;
    margin-bottom: $spacing-md;
    box-shadow: $shadow-sm;

    .members-header {
      @include flex(row, space-between, center);
      margin-bottom: $spacing-md;

      .members-title {
        font-size: $font-size-base;
        font-weight: $font-weight-semibold;
        color: $text-primary;
      }

      .members-count {
        font-size: $font-size-sm;
        color: $text-tertiary;
      }
    }

    .members-list {
      margin-bottom: $spacing-md;

      .member-item {
        @include flex(row, space-between, center);
        padding: $spacing-sm 0;
        border-bottom: 1rpx solid $border-light;

        &:last-child {
          border-bottom: none;
        }

        .member-avatar {
          margin-right: $spacing-sm;

          image {
            width: 80rpx;
            height: 80rpx;
            border-radius: $border-radius-full;
          }
        }

        .member-info {
          flex: 1;

          .member-name {
            font-size: $font-size-base;
            color: $text-primary;
            margin-bottom: 4rpx;
          }

          .member-role {
            font-size: $font-size-xs;
            color: $primary-color;
            background-color: rgba(249, 115, 22, 0.1);
            padding: 2rpx 8rpx;
            border-radius: $border-radius-sm;
            display: inline-block;
          }
        }

        .member-more {
          font-size: $font-size-lg;
          color: $text-tertiary;
        }
      }
    }

    .add-member-btn {
      @include flex(row, center, center);
      border: 1rpx dashed $border-color;
      border-radius: $border-radius-md;
      padding: $spacing-sm;

      .add-icon {
        font-size: $font-size-lg;
        color: $primary-color;
        margin-right: $spacing-xs;
      }

      .add-text {
        font-size: $font-size-sm;
        color: $primary-color;
      }
    }
  }

  /* ç¾¤ç®¡ç†åŠŸèƒ½ */
  .group-settings {
    background-color: $surface-color;
    border-radius: $border-radius-lg;
    margin-bottom: $spacing-md;
    box-shadow: $shadow-sm;

    .setting-item {
      @include flex(row, space-between, center);
      padding: $spacing-md;
      border-bottom: 1rpx solid $border-light;

      &:last-child {
        border-bottom: none;
      }

      .setting-icon {
        font-size: $font-size-base;
        margin-right: $spacing-sm;
      }

      .setting-text {
        flex: 1;
        font-size: $font-size-base;
        color: $text-primary;
      }

      .setting-arrow {
        font-size: $font-size-sm;
        color: $text-tertiary;
      }
    }
  }

  /* é€€å‡ºç¾¤èŠæŒ‰é’® */
  .leave-group-btn {
    @include flex(row, center, center);
    background-color: $surface-color;
    border-radius: $border-radius-lg;
    padding: $spacing-md;
    box-shadow: $shadow-sm;
    margin-top: $spacing-xl;

    .leave-text {
      font-size: $font-size-base;
      font-weight: $font-weight-medium;
      color: $accent-color;
    }
  }
}
</style>
